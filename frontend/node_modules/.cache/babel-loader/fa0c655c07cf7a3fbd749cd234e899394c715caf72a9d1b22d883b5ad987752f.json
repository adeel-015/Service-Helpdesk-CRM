{"ast":null,"code":"import React from\"react\";import{Navigate}from\"react-router-dom\";import{useAuth}from\"../../contexts/AuthContext\";import LoadingSpinner from\"../common/LoadingSpinner\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProtectedRoute=_ref=>{let{children,allowedRoles=[]}=_ref;const{isAuthenticated,user,loading}=useAuth();if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsx(LoadingSpinner,{size:\"lg\",text:\"Loading...\"})});}if(!isAuthenticated){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}if(allowedRoles.length>0&&!allowedRoles.includes(user===null||user===void 0?void 0:user.role)){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded-lg shadow-lg text-center max-w-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-2\",children:\"Access Denied\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:\"You don't have permission to access this page.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.history.back(),className:\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\",children:\"Go Back\"})]})});}return children;};export default ProtectedRoute;","map":{"version":3,"names":["React","Navigate","useAuth","LoadingSpinner","jsx","_jsx","jsxs","_jsxs","ProtectedRoute","_ref","children","allowedRoles","isAuthenticated","user","loading","className","size","text","to","replace","length","includes","role","onClick","window","history","back"],"sources":["/Users/adeeljaved/Documents/proxima_crm/frontend/src/components/auth/ProtectedRoute.jsx"],"sourcesContent":["import React from \"react\";\nimport { Navigate } from \"react-router-dom\";\nimport { useAuth } from \"../../contexts/AuthContext\";\nimport LoadingSpinner from \"../common/LoadingSpinner\";\n\nconst ProtectedRoute = ({ children, allowedRoles = [] }) => {\n  const { isAuthenticated, user, loading } = useAuth();\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <LoadingSpinner size=\"lg\" text=\"Loading...\" />\n      </div>\n    );\n  }\n\n  if (!isAuthenticated) {\n    return <Navigate to=\"/login\" replace />;\n  }\n\n  if (allowedRoles.length > 0 && !allowedRoles.includes(user?.role)) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"bg-white p-8 rounded-lg shadow-lg text-center max-w-md\">\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">\n            Access Denied\n          </h2>\n          <p className=\"text-gray-600 mb-4\">\n            You don't have permission to access this page.\n          </p>\n          <button\n            onClick={() => window.history.back()}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n          >\n            Go Back\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return children;\n};\n\nexport default ProtectedRoute;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,KAAQ,kBAAkB,CAC3C,OAASC,OAAO,KAAQ,4BAA4B,CACpD,MAAO,CAAAC,cAAc,KAAM,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtD,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAAqC,IAApC,CAAEC,QAAQ,CAAEC,YAAY,CAAG,EAAG,CAAC,CAAAF,IAAA,CACrD,KAAM,CAAEG,eAAe,CAAEC,IAAI,CAAEC,OAAQ,CAAC,CAAGZ,OAAO,CAAC,CAAC,CAEpD,GAAIY,OAAO,CAAE,CACX,mBACET,IAAA,QAAKU,SAAS,CAAC,+CAA+C,CAAAL,QAAA,cAC5DL,IAAA,CAACF,cAAc,EAACa,IAAI,CAAC,IAAI,CAACC,IAAI,CAAC,YAAY,CAAE,CAAC,CAC3C,CAAC,CAEV,CAEA,GAAI,CAACL,eAAe,CAAE,CACpB,mBAAOP,IAAA,CAACJ,QAAQ,EAACiB,EAAE,CAAC,QAAQ,CAACC,OAAO,MAAE,CAAC,CACzC,CAEA,GAAIR,YAAY,CAACS,MAAM,CAAG,CAAC,EAAI,CAACT,YAAY,CAACU,QAAQ,CAACR,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAES,IAAI,CAAC,CAAE,CACjE,mBACEjB,IAAA,QAAKU,SAAS,CAAC,0DAA0D,CAAAL,QAAA,cACvEH,KAAA,QAAKQ,SAAS,CAAC,wDAAwD,CAAAL,QAAA,eACrEL,IAAA,OAAIU,SAAS,CAAC,uCAAuC,CAAAL,QAAA,CAAC,eAEtD,CAAI,CAAC,cACLL,IAAA,MAAGU,SAAS,CAAC,oBAAoB,CAAAL,QAAA,CAAC,gDAElC,CAAG,CAAC,cACJL,IAAA,WACEkB,OAAO,CAAEA,CAAA,GAAMC,MAAM,CAACC,OAAO,CAACC,IAAI,CAAC,CAAE,CACrCX,SAAS,CAAC,iFAAiF,CAAAL,QAAA,CAC5F,SAED,CAAQ,CAAC,EACN,CAAC,CACH,CAAC,CAEV,CAEA,MAAO,CAAAA,QAAQ,CACjB,CAAC,CAED,cAAe,CAAAF,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}