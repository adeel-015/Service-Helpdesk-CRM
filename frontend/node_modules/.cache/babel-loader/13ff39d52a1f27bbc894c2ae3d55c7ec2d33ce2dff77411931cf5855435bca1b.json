{"ast":null,"code":"import _objectSpread from\"/Users/adeeljaved/Documents/proxima_crm/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Search,Filter,X}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TicketFilters=_ref=>{let{onFilterChange,agents=[]}=_ref;const[filters,setFilters]=useState({search:'',status:'',priority:'',assignedAgent:''});const[debouncedSearch,setDebouncedSearch]=useState('');useEffect(()=>{const timer=setTimeout(()=>{setDebouncedSearch(filters.search);},500);return()=>clearTimeout(timer);},[filters.search]);useEffect(()=>{onFilterChange(_objectSpread(_objectSpread({},filters),{},{search:debouncedSearch}));},[debouncedSearch,filters.status,filters.priority,filters.assignedAgent]);const handleChange=e=>{setFilters(_objectSpread(_objectSpread({},filters),{},{[e.target.name]:e.target.value}));};const clearFilters=()=>{setFilters({search:'',status:'',priority:'',assignedAgent:''});};const hasActiveFilters=filters.search||filters.status||filters.priority||filters.assignedAgent;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-lg shadow-md border border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-4\",children:[/*#__PURE__*/_jsx(Filter,{className:\"w-5 h-5 text-gray-600\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Filters\"}),hasActiveFilters&&/*#__PURE__*/_jsxs(\"button\",{onClick:clearFilters,className:\"ml-auto text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1\",children:[/*#__PURE__*/_jsx(X,{className:\"w-4 h-4\"}),\"Clear All\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Search,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"search\",value:filters.search,onChange:handleChange,placeholder:\"Search tickets...\",className:\"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"select\",{name:\"status\",value:filters.status,onChange:handleChange,className:\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Statuses\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Open\",children:\"Open\"}),/*#__PURE__*/_jsx(\"option\",{value:\"In Progress\",children:\"In Progress\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Resolved\",children:\"Resolved\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Closed\",children:\"Closed\"})]}),/*#__PURE__*/_jsxs(\"select\",{name:\"priority\",value:filters.priority,onChange:handleChange,className:\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Priorities\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Low\",children:\"Low\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Medium\",children:\"Medium\"}),/*#__PURE__*/_jsx(\"option\",{value:\"High\",children:\"High\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Urgent\",children:\"Urgent\"})]}),agents.length>0&&/*#__PURE__*/_jsxs(\"select\",{name:\"assignedAgent\",value:filters.assignedAgent,onChange:handleChange,className:\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Agents\"}),agents.map(agent=>/*#__PURE__*/_jsx(\"option\",{value:agent._id,children:agent.username},agent._id))]})]})]});};export default TicketFilters;","map":{"version":3,"names":["React","useState","useEffect","Search","Filter","X","jsx","_jsx","jsxs","_jsxs","TicketFilters","_ref","onFilterChange","agents","filters","setFilters","search","status","priority","assignedAgent","debouncedSearch","setDebouncedSearch","timer","setTimeout","clearTimeout","_objectSpread","handleChange","e","target","name","value","clearFilters","hasActiveFilters","className","children","onClick","type","onChange","placeholder","length","map","agent","_id","username"],"sources":["/Users/adeeljaved/Documents/proxima_crm/frontend/src/components/tickets/TicketFilters.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Search, Filter, X } from 'lucide-react';\n\nconst TicketFilters = ({ onFilterChange, agents = [] }) => {\n  const [filters, setFilters] = useState({\n    search: '',\n    status: '',\n    priority: '',\n    assignedAgent: '',\n  });\n\n  const [debouncedSearch, setDebouncedSearch] = useState('');\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setDebouncedSearch(filters.search);\n    }, 500);\n\n    return () => clearTimeout(timer);\n  }, [filters.search]);\n\n  useEffect(() => {\n    onFilterChange({\n      ...filters,\n      search: debouncedSearch,\n    });\n  }, [debouncedSearch, filters.status, filters.priority, filters.assignedAgent]);\n\n  const handleChange = (e) => {\n    setFilters({\n      ...filters,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const clearFilters = () => {\n    setFilters({\n      search: '',\n      status: '',\n      priority: '',\n      assignedAgent: '',\n    });\n  };\n\n  const hasActiveFilters = filters.search || filters.status || filters.priority || filters.assignedAgent;\n\n  return (\n    <div className=\"bg-white p-4 rounded-lg shadow-md border border-gray-200\">\n      <div className=\"flex items-center gap-2 mb-4\">\n        <Filter className=\"w-5 h-5 text-gray-600\" />\n        <h3 className=\"text-lg font-semibold text-gray-900\">Filters</h3>\n        {hasActiveFilters && (\n          <button\n            onClick={clearFilters}\n            className=\"ml-auto text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1\"\n          >\n            <X className=\"w-4 h-4\" />\n            Clear All\n          </button>\n        )}\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n        <div className=\"relative\">\n          <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\n          <input\n            type=\"text\"\n            name=\"search\"\n            value={filters.search}\n            onChange={handleChange}\n            placeholder=\"Search tickets...\"\n            className=\"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          />\n        </div>\n\n        <select\n          name=\"status\"\n          value={filters.status}\n          onChange={handleChange}\n          className=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n        >\n          <option value=\"\">All Statuses</option>\n          <option value=\"Open\">Open</option>\n          <option value=\"In Progress\">In Progress</option>\n          <option value=\"Resolved\">Resolved</option>\n          <option value=\"Closed\">Closed</option>\n        </select>\n\n        <select\n          name=\"priority\"\n          value={filters.priority}\n          onChange={handleChange}\n          className=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n        >\n          <option value=\"\">All Priorities</option>\n          <option value=\"Low\">Low</option>\n          <option value=\"Medium\">Medium</option>\n          <option value=\"High\">High</option>\n          <option value=\"Urgent\">Urgent</option>\n        </select>\n\n        {agents.length > 0 && (\n          <select\n            name=\"assignedAgent\"\n            value={filters.assignedAgent}\n            onChange={handleChange}\n            className=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          >\n            <option value=\"\">All Agents</option>\n            {agents.map((agent) => (\n              <option key={agent._id} value={agent._id}>\n                {agent.username}\n              </option>\n            ))}\n          </select>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default TicketFilters;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}