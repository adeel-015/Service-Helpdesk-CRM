{"ast":null,"code":"import _objectSpread from\"/Users/adeeljaved/Documents/proxima_crm/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";const API_BASE_URL=process.env.REACT_APP_API_URL||'http://localhost:5000/api';class ApiService{static getAuthHeader(){const token=localStorage.getItem('token');return token?{Authorization:\"Bearer \".concat(token)}:{};}static async handleResponse(response){if(!response.ok){const error=await response.json().catch(()=>({message:'Request failed'}));throw new Error(error.message||\"HTTP \".concat(response.status));}return response.json();}// Auth endpoints\nstatic async login(username,password){const response=await fetch(\"\".concat(API_BASE_URL,\"/auth/login\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({username,password})});return this.handleResponse(response);}static async register(userData){const response=await fetch(\"\".concat(API_BASE_URL,\"/auth/register\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(userData)});return this.handleResponse(response);}// Ticket endpoints\nstatic async getTickets(){let filters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const params=new URLSearchParams();Object.keys(filters).forEach(key=>{if(filters[key])params.append(key,filters[key]);});const response=await fetch(\"\".concat(API_BASE_URL,\"/tickets?\").concat(params),{headers:this.getAuthHeader()});return this.handleResponse(response);}static async createTicket(ticketData){const response=await fetch(\"\".concat(API_BASE_URL,\"/tickets\"),{method:'POST',headers:_objectSpread({'Content-Type':'application/json'},this.getAuthHeader()),body:JSON.stringify(ticketData)});return this.handleResponse(response);}static async updateTicket(id,ticketData){const response=await fetch(\"\".concat(API_BASE_URL,\"/tickets/\").concat(id),{method:'PUT',headers:_objectSpread({'Content-Type':'application/json'},this.getAuthHeader()),body:JSON.stringify(ticketData)});return this.handleResponse(response);}static async deleteTicket(id){const response=await fetch(\"\".concat(API_BASE_URL,\"/tickets/\").concat(id),{method:'DELETE',headers:this.getAuthHeader()});return this.handleResponse(response);}static async assignTicket(id,agentId){const response=await fetch(\"\".concat(API_BASE_URL,\"/tickets/\").concat(id,\"/assign\"),{method:'PUT',headers:_objectSpread({'Content-Type':'application/json'},this.getAuthHeader()),body:JSON.stringify({agentId})});return this.handleResponse(response);}static async getTicketActivity(id){const response=await fetch(\"\".concat(API_BASE_URL,\"/tickets/\").concat(id,\"/activity\"),{headers:this.getAuthHeader()});return this.handleResponse(response);}// User endpoints\nstatic async getUsers(role){const params=role?\"?role=\".concat(role):'';const response=await fetch(\"\".concat(API_BASE_URL,\"/users\").concat(params),{headers:this.getAuthHeader()});return this.handleResponse(response);}static async updateUser(id,userData){const response=await fetch(\"\".concat(API_BASE_URL,\"/users/\").concat(id),{method:'PUT',headers:_objectSpread({'Content-Type':'application/json'},this.getAuthHeader()),body:JSON.stringify(userData)});return this.handleResponse(response);}static async deleteUser(id){const response=await fetch(\"\".concat(API_BASE_URL,\"/users/\").concat(id),{method:'DELETE',headers:this.getAuthHeader()});return this.handleResponse(response);}// Activity logs\nstatic async getActivityLogs(){const response=await fetch(\"\".concat(API_BASE_URL,\"/activity-logs\"),{headers:this.getAuthHeader()});return this.handleResponse(response);}}export default ApiService;","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_URL","ApiService","getAuthHeader","token","localStorage","getItem","Authorization","concat","handleResponse","response","ok","error","json","catch","message","Error","status","login","username","password","fetch","method","headers","body","JSON","stringify","register","userData","getTickets","filters","arguments","length","undefined","params","URLSearchParams","Object","keys","forEach","key","append","createTicket","ticketData","_objectSpread","updateTicket","id","deleteTicket","assignTicket","agentId","getTicketActivity","getUsers","role","updateUser","deleteUser","getActivityLogs"],"sources":["/Users/adeeljaved/Documents/proxima_crm/frontend/src/services/api.js"],"sourcesContent":["const API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n\nclass ApiService {\n  static getAuthHeader() {\n    const token = localStorage.getItem('token');\n    return token ? { Authorization: `Bearer ${token}` } : {};\n  }\n\n  static async handleResponse(response) {\n    if (!response.ok) {\n      const error = await response.json().catch(() => ({ message: 'Request failed' }));\n      throw new Error(error.message || `HTTP ${response.status}`);\n    }\n    return response.json();\n  }\n\n  // Auth endpoints\n  static async login(username, password) {\n    const response = await fetch(`${API_BASE_URL}/auth/login`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ username, password }),\n    });\n    return this.handleResponse(response);\n  }\n\n  static async register(userData) {\n    const response = await fetch(`${API_BASE_URL}/auth/register`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(userData),\n    });\n    return this.handleResponse(response);\n  }\n\n  // Ticket endpoints\n  static async getTickets(filters = {}) {\n    const params = new URLSearchParams();\n    Object.keys(filters).forEach(key => {\n      if (filters[key]) params.append(key, filters[key]);\n    });\n    \n    const response = await fetch(`${API_BASE_URL}/tickets?${params}`, {\n      headers: this.getAuthHeader(),\n    });\n    return this.handleResponse(response);\n  }\n\n  static async createTicket(ticketData) {\n    const response = await fetch(`${API_BASE_URL}/tickets`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        ...this.getAuthHeader(),\n      },\n      body: JSON.stringify(ticketData),\n    });\n    return this.handleResponse(response);\n  }\n\n  static async updateTicket(id, ticketData) {\n    const response = await fetch(`${API_BASE_URL}/tickets/${id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        ...this.getAuthHeader(),\n      },\n      body: JSON.stringify(ticketData),\n    });\n    return this.handleResponse(response);\n  }\n\n  static async deleteTicket(id) {\n    const response = await fetch(`${API_BASE_URL}/tickets/${id}`, {\n      method: 'DELETE',\n      headers: this.getAuthHeader(),\n    });\n    return this.handleResponse(response);\n  }\n\n  static async assignTicket(id, agentId) {\n    const response = await fetch(`${API_BASE_URL}/tickets/${id}/assign`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        ...this.getAuthHeader(),\n      },\n      body: JSON.stringify({ agentId }),\n    });\n    return this.handleResponse(response);\n  }\n\n  static async getTicketActivity(id) {\n    const response = await fetch(`${API_BASE_URL}/tickets/${id}/activity`, {\n      headers: this.getAuthHeader(),\n    });\n    return this.handleResponse(response);\n  }\n\n  // User endpoints\n  static async getUsers(role) {\n    const params = role ? `?role=${role}` : '';\n    const response = await fetch(`${API_BASE_URL}/users${params}`, {\n      headers: this.getAuthHeader(),\n    });\n    return this.handleResponse(response);\n  }\n\n  static async updateUser(id, userData) {\n    const response = await fetch(`${API_BASE_URL}/users/${id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        ...this.getAuthHeader(),\n      },\n      body: JSON.stringify(userData),\n    });\n    return this.handleResponse(response);\n  }\n\n  static async deleteUser(id) {\n    const response = await fetch(`${API_BASE_URL}/users/${id}`, {\n      method: 'DELETE',\n      headers: this.getAuthHeader(),\n    });\n    return this.handleResponse(response);\n  }\n\n  // Activity logs\n  static async getActivityLogs() {\n    const response = await fetch(`${API_BASE_URL}/activity-logs`, {\n      headers: this.getAuthHeader(),\n    });\n    return this.handleResponse(response);\n  }\n}\n\nexport default ApiService;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}